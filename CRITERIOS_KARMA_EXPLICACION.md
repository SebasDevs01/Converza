# 📊 CRITERIOS DE KARMA - GUÍA COMPLETA

## 🎯 ¿Por qué NO recibiste puntos por "que bonita publicacion"?

Tu comentario **"que bonita publicacion"** fue analizado por el sistema inteligente de karma y **NO pasó los filtros** porque:

### ❌ Razones de Rechazo:

1. **No tiene palabras positivas de la lista** → "bonita" no está en las palabras positivas reconocidas
2. **Es muy corto** (23 caracteres) → El sistema prefiere comentarios más elaborados
3. **Sin signos de entusiasmo** → No tiene ! ni emojis positivos 😊 👍 ❤️

---

## ✅ CÓMO OBTENER KARMA POR COMENTARIOS

### 1️⃣ **Usa Palabras Positivas Reconocidas**

El sistema reconoce estas palabras (minúsculas/mayúsculas no importan):

#### 📝 Elogios Básicos:
```
✅ gracias, excelente, genial, increíble, bueno, bien
✅ felicidades, éxito, logro, maravilloso, perfecto
✅ fantástico, hermoso, inspirador, motivador, admirable
✅ impresionante, valioso, útil, interesante
```

#### 😊 Emociones Positivas:
```
✅ feliz, alegre, contento, emocionado, entusiasta, optimista
```

#### 🙏 Apreciación:
```
✅ aprecio, agradezco, reconozco, valoro, respeto, admiro
```

#### 🌟 Calidad:
```
✅ calidad, profesional, impecable, destacado, brillante
✅ superior, extraordinario, espectacular, fenomenal, sobresaliente
```

#### 💪 Apoyo y Ánimo:
```
✅ bravo, felicitaciones, enhorabuena, ánimo, adelante
✅ sigue, continúa, persevera, fuerza, puedes, lograrás
```

#### 🎯 Recomendaciones:
```
✅ recomiendo, sugiero, aconsejo, propongo, compartiré
```

#### 🎨 Emojis Positivos:
```
✅ 👍 ❤️ 😊 🙌 💪 🌟 ✨ 🎉 👏 💯
```

---

### 2️⃣ **Ejemplos que SÍ dan Karma (+8 puntos)**

#### ✅ Comentarios Cortos con Palabras Clave:
```
"Excelente trabajo! 👍"
"Increíble foto! ❤️"
"Felicidades por el logro! 🎉"
"Genial contenido! 🌟"
"Qué hermoso! 😊"
"Me encanta! 💖"
"Maravilloso! ✨"
"Fantástico! 👏"
```

#### ✅ Comentarios con Entusiasmo:
```
"Que bonita publicación! ❤️😊" (tiene emoji positivo)
"Muy bonito! Excelente trabajo! 👍" (tiene "excelente")
"Hermosa foto! Felicidades! 🎉" (tiene "hermosa" y "felicidades")
"Genial! Me inspira mucho! 🌟" (tiene "genial" e "inspira")
```

#### ✅ Comentarios Largos con Contenido Positivo:
```
"Me encanta tu estilo! Sigue así, eres increíble! 💪"
(tiene "encanta", "increíble", emoji, y >50 caracteres)

"Qué bonito trabajo! Realmente es extraordinario y muy profesional! 🌟"
(tiene "extraordinario", "profesional", emoji, y >50 caracteres)

"Muchas gracias por compartir esto! Es muy valioso e interesante! 🙏"
(tiene "gracias", "valioso", "interesante", emoji)
```

#### ✅ Preguntas Constructivas (>20 caracteres):
```
"¿Cómo lograste ese efecto? Me interesa aprender! 🤔"
"¿Qué técnica usaste? Está genial! 👍"
"¿Dónde tomaste la foto? Es hermosa! 📸"
```

---

### 3️⃣ **Ejemplos que NO dan Karma (-5 o 0 puntos)**

#### ❌ Comentarios Muy Cortos sin Palabras Clave:
```
❌ "que bonita publicacion" (sin palabras reconocidas ni emojis)
❌ "linda foto" (sin palabras de la lista)
❌ "nice" (muy corto y sin español reconocido)
❌ "ok" (muy corto)
❌ "👀" (solo emoji sin texto)
```

#### ❌ Comentarios con Sarcasmo:
```
❌ "jaja claro, muy bueno" (sarcasmo detectado)
❌ "sí claro, qué genial" (sarcasmo)
❌ "obvio, excelente trabajo campeón" (sarcasmo)
❌ "muy inteligente, crack" (sarcasmo)
```

#### ❌ Comentarios con Negaciones:
```
❌ "No está mal" (negación + palabra positiva = sarcasmo)
❌ "Nada genial" (negación + positivo)
❌ "Sin apoyo" (negación)
❌ "No es excelente" (negación)
```

#### ❌ Comentarios con Palabras Negativas (-5 puntos):
```
❌ "Está horrible" (palabra negativa)
❌ "Qué feo" (palabra negativa)
❌ "Es aburrido" (palabra negativa)
❌ "Muy malo" (palabra negativa)
❌ "Asco de publicación" (palabra negativa)
```

#### ❌ Comentarios con Insultos (-10 puntos):
```
❌ "Eres un idiota"
❌ "Qué estúpido"
❌ "Pendejo"
❌ Cualquier insulto
```

#### ❌ Comentarios con MAYÚSCULAS EXCESIVAS:
```
❌ "QUE BONITA FOTO!!!" (>60% mayúsculas = gritos)
❌ "EXCELENTE TRABAJO" (agresividad)
```

#### ❌ Comentarios con Emojis Negativos:
```
❌ "Bonito 😒" (emoji negativo anula lo positivo)
❌ "Genial 🙄" (emoji sarcástico)
❌ "Excelente 😡" (emoji de enojo)
```

---

## 🎯 CRITERIOS DE KARMA POR ACCIÓN

### 💬 Comentarios:
| Tipo | Puntos | Ejemplo |
|------|--------|---------|
| ✅ Positivo Genuino | **+8** | "Excelente trabajo! 👍" |
| ✅ Constructivo Largo | **+8** | Comentario >100 caracteres con contenido positivo |
| ✅ Pregunta Constructiva | **+8** | "¿Cómo lograste ese efecto?" (>20 caracteres) |
| ⚠️ Neutro/Sin Palabras | **0** | "que bonita publicacion" |
| ❌ Sarcasmo/Negación | **0** | "jaja claro, muy bueno" |
| ❌ Negativo | **-5** | "Está horrible" |
| ❌ Insulto | **-10** | Cualquier insulto directo |

### ❤️ Reacciones:
| Reacción | Puntos | Emoji |
|----------|--------|-------|
| ✅ Me encanta | **+5** | 😍 |
| ✅ Me gusta | **+3** | 👍 |
| ✅ Me divierte | **+3** | 😂 |
| ⚠️ Me sorprende | **0** | 😮 |
| ⚠️ Me entristece | **0** | 😢 |
| ❌ Me enoja | **-2** | 😡 |

### 📝 Publicaciones:
| Acción | Puntos |
|--------|--------|
| ✅ Crear publicación nueva | **+15** |
| ✅ Publicar con imagen | **+20** |
| ✅ Publicar con video | **+20** |

### 👥 Interacciones Sociales:
| Acción | Puntos |
|--------|--------|
| ✅ Aceptar solicitud de amistad | **+10** |
| ✅ Tu solicitud es aceptada | **+10** |
| ✅ Mensaje motivador enviado | **+5** |
| ✅ Compartir conocimiento (comentario educativo >100 chars) | **+15** |

---

## 🔍 CÓMO FUNCIONA EL ANÁLISIS INTELIGENTE

### Paso 1: Detectar Sarcasmo 🚫
```php
Patrones bloqueados:
- "jaja claro", "sí claro", "obvio"
- "muy inteligente", "qué listo", "genio"
- "claro que sí", "por supuesto", "como no"
→ SI SE DETECTA = NO KARMA
```

### Paso 2: Detectar Negaciones 🚫
```php
Si tiene: "no", "nunca", "jamás", "nada", "sin"
+ palabra positiva (ej: "no está excelente")
→ RECHAZAR (es sarcasmo)
```

### Paso 3: Detectar Palabras Negativas 🚫
```php
"malo", "horrible", "terrible", "asco", "basura"
"idiota", "estúpido", "tonto", "feo", etc.
→ SI SE ENCUENTRA = RECHAZAR (-5 o -10 puntos)
```

### Paso 4: Contar Palabras Positivas ✅
```php
Buscar palabras de la lista:
"gracias", "excelente", "genial", "increíble"...
→ Cada palabra positiva suma al puntaje
```

### Paso 5: Análisis Contextual 🔍
```php
- ¿Tiene emojis positivos? 😊 👍 ❤️
- ¿Tiene signos de entusiasmo? ! 
- ¿Es lo suficientemente largo? >50 caracteres
- ¿Es una pregunta constructiva? (¿...?) >20 chars
- ¿Tiene MAYÚSCULAS excesivas? >60% = RECHAZAR
```

### Paso 6: Decisión Final 🎯
```php
SI cumple alguno:
- Tiene palabras positivas Y pasó filtros
- Es largo (>100 chars) con signos positivos
- Es pregunta constructiva (>20 chars)
- Es mediano (>50 chars) sin spam ni negatividad
→ OTORGAR +8 PUNTOS
```

---

## 💡 TIPS PARA MAXIMIZAR TU KARMA

### 1. 🎨 Usa Emojis Positivos:
```
"Bonita foto! 😊" → +8 puntos
"Bonita foto" → 0 puntos (sin palabras clave ni emojis)
```

### 2. 📝 Combina Palabras Positivas:
```
"Excelente trabajo! Muy hermoso! 👏" → +8 puntos
(tiene "excelente" + "hermoso" + emoji + entusiasmo)
```

### 3. ❗ Agrega Signos de Entusiasmo:
```
"Genial contenido!" → +8 puntos
"genial contenido" → +8 puntos (pero menos impacto visual)
```

### 4. 💬 Escribe Comentarios Completos:
```
"Me encanta tu estilo! Sigue así, es increíble y muy inspirador! 🌟"
→ +8 puntos (múltiples palabras positivas + emoji + entusiasmo)
```

### 5. 🙋 Haz Preguntas Genuinas:
```
"¿Cómo lograste ese efecto tan genial? 🤔"
→ +8 puntos (pregunta + palabra positiva + emoji)
```

---

## 🚫 QUÉ EVITAR PARA NO PERDER KARMA

### ❌ NO uses:
```
- Sarcasmo: "jaja claro", "obvio", "sí claro"
- Negaciones + positivos: "no está mal", "nada genial"
- Palabras negativas: "feo", "malo", "horrible"
- Insultos: idiota, estúpido, pendejo, etc.
- MAYÚSCULAS EXCESIVAS (>60%)
- Emojis negativos: 😒 😡 🙄 💩
- Comentarios muy cortos sin palabras clave
```

---

## 📈 SISTEMA DE NIVELES

### Niveles Progresivos (cada 100 puntos = +1 nivel):
```
Nivel 1: 0-99 puntos      🌱 Novato
Nivel 2: 100-199 puntos   🌿 Aprendiz
Nivel 3: 200-299 puntos   🌳 Experto
Nivel 4: 300-399 puntos   🏆 Maestro
Nivel 5: 400-499 puntos   👑 Leyenda
...
Nivel N: (N-1)*100 hasta N*100-1
```

### Cómo Subir de Nivel Rápido:
```
✅ Comentar con palabras positivas: +8 pts cada uno
✅ Crear publicaciones: +15-20 pts cada una
✅ Dar reacciones 😍 👍: +3-5 pts cada una
✅ Aceptar amistades: +10 pts cada una
✅ Compartir conocimiento: +15 pts

Ejemplo para subir 100 puntos:
- 13 comentarios positivos (13 × 8 = 104 pts) ✅
- 5 publicaciones (5 × 20 = 100 pts) ✅
- 34 reacciones "me encanta" (34 × 3 = 102 pts) ✅
```

---

## 🔄 ACTUALIZACIÓN AUTOMÁTICA

### El karma se actualiza automáticamente en:
```
✅ 100ms después de comentar
✅ 150ms después de reaccionar
✅ Inmediato al crear publicación (al recargar)
✅ Inmediato al aceptar amistad
✅ Cada 3 segundos en la tienda
```

### Badge Contador:
```
🏆 150 pts [Nivel 2]  [↑ +8]
                       └─ Verde = positivo
                       └─ Rojo = negativo
                       └─ Desaparece tras 6 segundos
```

---

## 📞 SOLUCIÓN A TU CASO ESPECÍFICO

### ❌ Comentario que NO dio puntos:
```
"que bonita publicacion"
```

### ✅ Cómo arreglarlo:
```
OPCIÓN 1: Agregar emoji
"que bonita publicacion! 😊" → +8 pts

OPCIÓN 2: Usar palabra reconocida
"que hermosa publicacion!" → +8 pts ("hermosa" está en la lista)

OPCIÓN 3: Combinar palabras positivas
"excelente publicacion! muy bonita! 👍" → +8 pts

OPCIÓN 4: Hacer comentario más largo
"me encanta tu publicacion! es muy bonita y profesional! 🌟"
→ +8 pts (>50 chars + palabras positivas + emoji)
```

---

## 🎯 RESUMEN EJECUTIVO

### Para obtener karma por comentarios:

1. ✅ **Usa palabras de la lista positiva** (gracias, excelente, genial, hermoso, etc.)
2. ✅ **Agrega emojis positivos** (😊 👍 ❤️ 🌟 ✨)
3. ✅ **Muestra entusiasmo** (signos de exclamación !)
4. ✅ **Escribe comentarios completos** (>50 caracteres si no usas palabras clave)
5. ✅ **Sé genuino** (sin sarcasmo ni negaciones)

### Para NO perder karma:

1. ❌ **Evita sarcasmo** ("jaja claro", "obvio")
2. ❌ **No uses negaciones** ("no está mal")
3. ❌ **Sin palabras negativas** (feo, malo, horrible)
4. ❌ **Sin insultos** (nunca)
5. ❌ **Sin MAYÚSCULAS excesivas**
6. ❌ **Sin emojis negativos** (😒 😡 🙄)

---

## 🐛 BUG ARREGLADO: Error de Conexión al Seguir

### ❌ Problema:
```
Al darle click a "Seguir" aparecía:
"Error de conexión"
```

### 🔧 Solución Aplicada:
```php
// ANTES (INCORRECTO):
$usuarioActual = (int)$_SESSION['id'];
$notificacionesTriggers->nuevoSeguidor(...); // ❌ Variable no definida
if ($_SERVER['REQUEST_METHOD'] === 'POST') {

// AHORA (CORREGIDO):
$usuarioActual = (int)$_SESSION['id'];
// ✅ Eliminada la línea problemática
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
```

### ✅ Resultado:
```
El botón "Seguir" ahora funciona correctamente
No más errores de conexión
Sistema de seguidores operativo
```

---

## 📝 CONCLUSIÓN

Tu comentario **"que bonita publicacion"** no dio puntos porque:
1. No tiene palabras de la lista reconocida
2. No tiene emojis positivos
3. Es corto y sin signos de entusiasmo

**Solución:** Usa "hermosa" en vez de "bonita", o agrega emoji 😊 👍 ❤️

El sistema de karma ahora es 100% automático y funciona perfectamente! 🎉
